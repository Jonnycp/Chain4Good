% !TeX spellcheck = it_IT
% !TEX TS-program = pdflatex
% !TEX root = ../main.tex


% ********************************************************************
\section{Background}
\label{sec:background}
% ********************************************************************

\subsection{Blockchain}

Una blockchain è una base di dati distribuita, condivisa e immutabile, mantenuta da una rete di nodi interconnessi secondo un'architettura \gls{p2p}. Dal punto di vista dei sistemi distribuiti, essa si configura come un sistema che garantisce affidabilità e sicurezza replicando i dati e le operazioni su molteplici nodi indipendenti \cite{rodrigues2010peer}.\\
Tale paradigma architetturale è stato introdotto per la prima volta nel 2008 da Satoshi Nakamoto - pseudonimo utilizzato dall'autore o dal collettivo di persone dietro il \textit{white paper} di Bitcoin - come infrastruttura di supporto per la nota criptovaluta. \\
Come suggerito dal termine stesso, la blockchain è una catena sequenziale di blocchi, ciascuno contenente un insieme di transazioni validate dalla rete.
Ogni blocco è collegato al precedente attraverso un riferimento crittografico, detto \textit{hash}. Questa caratteristica rende il registro intrinsecamente resistente alla manomissione: qualsiasi tentativo di alterare le informazioni contenute in un blocco comporterebbe, infatti, l'invalidazione a cascata di tutti i blocchi successivi \cite{monrat2019survey}.

%Essa si presenta come un elenco infinito di transazioni tra utenti che non si conoscono e non si fidano l’uno dell’altro, ma che, grazie a questa innovativa tecnologia, sono in grado di scambiarsi criptomoneta senza l’ausilio di un’autorità centrale


\subsubsection{Transazioni}
La transazione rappresenta l’unità fondamentale di informazione all’interno della blockchain. Essa descrive un’operazione richiesta da un utente, come ad esempio il trasferimento di un asset digitale (\textit{token}) o l'invocazione di uno \textit{Smart Contract} \cite{crosby2016blockchain}.
Ogni transazione è creata da un nodo e viene firmata digitalmente utilizzando una coppia di chiavi crittografiche (crittografia asimmetrica). \\
Prima di essere registrata nella blockchain, ogni transazione viene validata dalla rete secondo regole condivise e, una volta confermata, viene inserita in un blocco.

\subsubsection{Blocchi}

Un blocco è una struttura dati che aggrega un insieme di transazioni validate in un determinato intervallo di tempo. Oltre alle transazioni, ogni blocco contiene un \textit{header} con informazioni di gestione fondamentali, tra cui:
\begin{itemize} 
	\item l’\textit{hash} del blocco precedente, che collega crittograficamente i blocchi tra loro formando la catena;  
	\item un \textit{timestamp}, che indica il momento di creazione del blocco; 
	\item il \textit{Merkle Root}, ovvero la radice di un \textit{Merkle Tree}, una struttura ad albero binario che consente di riassumere tutte le transazioni del blocco in un unico \textit{hash};
	\item dati aggiuntivi richiesti dal protocollo di consenso adottato.
	\end{itemize}
	
L’inclusione dell’\textit{hash} del blocco precedente rende la blockchain una struttura immutabile per costruzione: anche una minima modifica a una singola transazione altererebbe la \textit{Merkle Root} e di conseguenza l’\textit{hash} del blocco, invalidando l’intera catena successiva. Questo meccanismo costituisce uno dei principali fattori di sicurezza della blockchain \cite{monrat2019survey}.

\subsubsection{Protocolli di consenso}

Come precedentemente affermato, la blockchain è un sistema intrinsecamente decentralizzato, per cui la validazione delle transazioni non dipende più da un'autorità centrale ma è subordinata all'approvazione collettiva da parte tutti i nodi della rete.
Il processo di validazione di un blocco impone dunque l'implementazione di algoritmi di consenso, come:

\begin{itemize}
	\item \gls{pow}: rappresenta il protocollo di consenso più noto e storicamente rilevante (introdotto da Bitcoin). In questo meccanismo, i nodi della rete, detti \textit{miner}, competono per risolvere un problema crittografico computazionalmente complesso ma facilmente verificabile. Il \textit{miner} che per primo individua una soluzione valida al problema, acquisisce il diritto di creare un nuovo blocco e propagarlo alla rete.
	Tuttavia, l'aggiunta effettiva del blocco avviene solo se questo viene correttamente validato e accettato dalla maggioranza dei nodi. Se queste operazioni vanno a buon fine, il \textit{miner} riceve una ricompensa, generalmente erogata sotto forma di criptovaluta \cite{tschorsch2016bitcoin}.
	
	\item \gls{pos}: in questo protocollo, il processo di validazione è affidato ad un insieme di nodi scelti in funzione della quantità di criptovaluta vincolata come garanzia, in un processo noto come \textit{staking}. I nodi selezionati come \textit{validatori} sono responsabili della creazione dei blocchi e della verifica delle transazioni. Una volta raggiunto il consenso, il blocco viene aggiunto immutabilmente alla blockchain, aggiornando lo stato del \textit{ledger} distribuito.
	
\end{itemize}


\subsubsection{Vantaggi della blockchain}
L'adozione della tecnologia blockchain offre vantaggi significativi rispetto ai sistemi centralizzati tradizionali, derivanti dalla sua architettura distribuita e dall'uso della crittografia:

\begin{itemize} 
	\item \textbf{Decentralizzazione}: l’assenza di un’autorità centrale elimina i \textit{single point of failure} \cite{rodrigues2010peer}: 
	\item \textbf{Immutabilità}: ogni transazione è irreversibile, per cui una volta registrata nella blockchain, non può più essere cancellata o modificata, in quanto farlo altererebbe l’intera catena dei blocchi \cite{monrat2019survey}; 
	\item \textbf{Trasparenza}: tutte le transazioni sono verificabili pubblicamente (nelle \textit{blockchain permissionless}) o dai membri autorizzati (nelle \textit{permissioned}) \cite{crosby2016blockchain}; 
	\item \textbf{Sicurezza}: l’uso combinato di crittografia asimmetrica (per l'autenticazione) e protocolli di consenso distribuito (per l'integrità del registro) rende il sistema resistente ad attacchi e frodi;
	\end{itemize}


%-------------------------------------------------------------------------------------------------

\subsection{Ethereum Blockchain}
Ethereum è una piattaforma decentralizzata e \textit{open-source} basata su tecnologia blockchain, proposta da Vitalik Buterin nel 2013 e resa operativa con il primo rilascio stabile nel 2015 \cite{buterin2014next}.  
A differenza delle blockchain di prima generazione, concepite prevalentemente come registri distribuiti per il trasferimento di valore (ad esempio Bitcoin), Ethereum nasce come una piattaforma \textit{general-purpose} progettata per l’esecuzione di programmi direttamente sulla blockchain.
Questa estensione del modello tradizionale consente di superare alcune limitazioni delle piattaforme precedenti, quali la mancanza di Turing-completezza, e rende possibile la realizzazione di applicazioni decentralizzate, comunemente denominate \gls{dapps}.

\subsubsection{Smart Contract}
Gli \textit{Smart Contract} sono programmi immutabili memorizzati sulla blockchain di Ethereum. Come illustrato nel \textit{whitepaper} che ha introdotto questa tecnologia, gli \textit{Smart Contract} possono essere concepiti come entità crittografiche capaci di detenere e trasferire valore, il cui comportamento è rigidamente definito dal codice e la cui esecuzione è consentita esclusivamente al verificarsi delle condizioni prestabilite \cite{buterin2013ethereum}.
Per supportare la loro esecuzione, Ethereum adotta un modello basato su \textit{account}, distinguendo tra:
\begin{itemize}
	\item \textit{\gls{eoa}}: controllati direttamente dagli utenti tramite una coppia di chiavi crittografiche. La chiave privata è utilizzata per firmare digitalmente le transazioni, mentre la chiave pubblica funge da indirizzo dell’account sulla rete Ethereum. Una transazione è valida solo se firmata dal mittente, che ne garantisce l’autenticità e l’integrità;
	\item \textit{Contract Accounts}: account associati a uno \textit{Smart Contract}, privi di chiave privata. Essi non possono avviare transazioni, ma vengono attivati esclusivamente in risposta a chiamate provenienti da un \gls{eoa} o da un altro \textit{Smart Contract}.

\end{itemize}

Ogni interazione con uno \textit{Smart Contract} avviene tramite una transazione e comporta l’esecuzione di istruzioni all’interno dell'\gls{evm}. Il costo computazionale associato a tale esecuzione è quantificato in \textit{gas} ed è sostenuto dal mittente della transazione sotto forma di Ether, criptovaluta nativa di Ethereum. 

\subsubsection{DApps}
Le \gls{dapps} sono applicazioni decentralizzate che operano su una rete \gls{p2p}. L’interazione con l’utente avviene mediante un’interfaccia grafica analoga a quella delle applicazioni tradizionali, mentre la componente di \textit{backend} assume un ruolo sostanzialmente differente. In particolare, la logica applicativa non è gestita da un’infrastruttura centralizzata, ma è implementata attraverso \textit{Smart Contract} distribuiti sulla blockchain, che ne definiscono in modo deterministico il comportamento. \\
L’invocazione di uno \textit{Smart Contract} avviene mediante una transazione, la cui esecuzione può comportare una modifica persistente dello stato globale della blockchain. I dati associati alle transazioni e allo stato dei contratti sono memorizzati in forma crittografica, garantendone l’integrità e la non alterabilità nel tempo. \\
L’esecuzione delle operazioni è soggetta ai meccanismi di consenso adottati dalla blockchain sottostante, che consentono la validazione distribuita delle transazioni e contribuiscono a garantire proprietà quali sicurezza, integrità e decentralizzazione del sistema.


%-------------------------------------------------------------------------------------------------

\subsection{Blockchain e Crowdfunding}






%\subsection{Smart Contract}
%Gli Smart Contract sono programmi memorizzati ed eseguiti sulla blockchain Ethereum, associati a specifici account di tipo \textit{contract}. Essi vengono attivati automaticamente quando ricevono una transazione o un messaggio e possono leggere e modificare il proprio stato interno, trasferire Ether e interagire con altri. 
%Gli Smart Contract possono essere scritti utilizzando diversi linguaggi di programmazione, il più utilizzato dei quali è al momento Solidity. Il codice sorgente scritto in Solidity, o in un qualsiasi altro linguaggio ad alto livello fra quelli supportati, deve essere poi compilato per produrre un \textit{bytecode} pronto per essere eseguito dalla \gls{evm}.


%%GAS-Per ogni transazione l’utente può definire un \textit{gas price} e un \textit{gas limit}, ovvero rispettivamente l’ammontare che decide di pagare per ogni unità di gas consumata (valore espresso solitamente in Gwei, un sottomultiplo dell’Ether) e la quantità massima di gas consumabile. 
%In questo modo il mittente della transazione conosce a priori quale sarà il costo massimo dell’operazione, e garantisce al tempo stesso che ogni computazione giungerà\textit{} sempre a termine. Qualora infatti si verificasse ad esempio un loop infinito all’interno del codice di uno \textit{smart contract}, la computazione verrà interrotta non appena si sarà consumato tutto il gas messo a disposizione al momento della creazione della transazione. Il costo effettivo sarà determinato dall’effettiva quantità di gas utilizzato moltiplicato per il \textit{gas price} indicato e quindi detratto al mittente dal saldo del suo wallet in Ether.




